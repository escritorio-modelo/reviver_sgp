<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Todos os Pacientes - Reviver</title>
    <th:block th:include="components/geral/paciente.html :: header-files"></th:block>
    
</head>

<body>
<div th:replace="components/header/index.html :: header(content='Todos os pacientes', paginaatual='pacientes')"></div>

<div th:if="${deletada}" class="container" data-notification="show">
    <div class="columns is-centered">
        <div class="column is-half notification-component">
            <div th:replace="components/notificacao/index.html :: notificacao(tipo='success', mensagem='O paciente foi deletado com sucesso!')"></div>
        </div>
    </div>
</div>
<section class="section">
	<table id='paciente' class="dataTable" data-editing="true" style="width:100%">
		 <thead>
			<tr>
				
				<th>Nome</th>
				<th>CPF</th>
				<th>Portador de</th>
				<th>Acesso</th>
			</tr>
		</thead>
		<tbody>
	<!--
		<tr>
			<td>2</td>
			<td>Elodia</td>
			<td>Weisz</td>
			<td>Wallpaperer Helper</td>
		</tr>
		 <tr>
			<td>3</td>
			<td>Raeann</td>
			<td>Haner</td>
			<td>Internal Medicine Nurse Practitioner</td>
			<td>November 28th 2013</td>
			<td>February 26th 1966</td>
		</tr>
		<tr>
			<td>4</td>
			<td>Junie</td>
			<td>Landa</td>
			<td>Offbearer</td>
			<td>October 31st 2010</td>
			<td>March 29th 1966</td>
		</tr>
		<tr>
			<td>5</td>
			<td>Solomon</td>
			<td>Bittinger</td>
			<td>Roller Skater</td>
			<td>December 29th 2011</td>
			<td>September 22nd 1964</td>
		</tr>
		<tr>
			<td>6</td>
			<td>Bar</td>
			<td>Lewis</td>
			<td>Clown</td>
			<td>November 12th 2012</td>
			<td>August 4th 1991</td>
		</tr>
		<tr>
			<td>7</td>
			<td>Usha</td>
			<td>Leak</td>
			<td>Ships Electronic Warfare Officer</td>
			<td>August 14th 2012</td>
			<td>November 20th 1979</td>
		</tr>
		<tr>
			<td>8</td>
			<td>Lorriane</td>
			<td>Cooke</td>
			<td>Technical Services Librarian</td>
			<td>September 21st 2010</td>
			<td>April 7th 1969</td>
		</tr> -->
	</tbody> 
	</table>
</section>


<th:block th:include="components/geral/paciente.html :: scripts"></th:block>
</body>

<!-- Add in any FooTable dependencies we may need -->

<!-- Add in FooTable itself -->

<script>
	$(document).ready(function() {
		$.ajax({
    'url': "/api/pacientes/",
    'method': "GET",
    'contentType': 'application/json'
}).done( function(data) {
	console.log(data.content[0].nome,'jonathannnnnnnnn')
	const actualData = data.content
    $('#paciente').dataTable( {
        "aaData": actualData,
        "columns": [
		
            { "data": "nome",
        "fnCreatedCell": function (nTd, sData, oData, iRow, iCol) {
            $(nTd).html("<a class='has-text-weight-medium' href='#'>"+oData.nome+"</a>");
        } },
            { "data": "cpf" },
            { "data": "parkinson", "fnCreatedCell": function (nTd, sData, oData, iRow, iCol) {
            if(oData.parkinson && !oData.alzheimer){
                $(nTd).html("<span >Parkinson</span>");
            }else if(!oData.parkinson && oData.alzheimer){
                $(nTd).html("<span >Alzheimer</span>");
            }else if(oData.parkinson && oData.alzheimer){
				$(nTd).html("<span >Alzheimer, parkinson</span>");
			}else if(!oData.parkinson && !oData.alzheimer){
				$(nTd).html("<span >NÃ£o informado</span>");
			}
           
            
        } },{ "data": "nome" ,
        "fnCreatedCell": function (nTd, sData, oData, iRow, iCol) {
            $(nTd).html("<a class='has-text-weight-medium' href='#'>Acessar Paciente</a>");
        } },
            
        ]
    })
})

    /* $('#paciente').DataTable(); */
} );
</script>
</html>