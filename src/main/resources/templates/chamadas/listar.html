<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Chamadas - Projeto Reviver</title>
<th:block th:include="fragmentos/general.html :: headerfiles">
</th:block>
</head>

<body>
	<div th:replace="fragmentos/componentes :: theme-loader "></div>
	<div id="pcoded" class="pcoded">
		<div class="pcoded-container">
			<div th:replace="fragmentos/componentes :: header"></div>
			<div class="pcoded-main-container">
				<div th:replace="fragmentos/componentes :: navbar"></div>
				<div class="pcoded-wrapper">
					<div class="pcoded-content">
						<div class="pcoded-inner-content">
							<div class="main-body">
								<div class="page-wrapper">
									<div class="page-body">
										<div class="row m-t-40">
											<div class="col-lg">
												<div class="card">
													<div class="card-header"
														style="display: flex; justify-content: space-between;">
														<div>
															<h5>Chamadas cadastradas</h5>
															<span>Lista das chamadas cadastrados no projeto
																até o momento.</span>
														</div>
														<div style="margin-top: 10px;">
															<a href="/chamadas/cadastrar" class="btn btn-primary"><i
																class="ion-speakerphone"
																style="margin-right: 10px; font-size: 18px"></i>Cadastrar
																chamada</a>
														</div>
													</div>
													<div class="card-block">
														<div class="dt-responsive table-responsive">
															<div id="alt-pg-dt_wrapper" class="dataTables_wrapper dt-bootstrap4">
																<table id="example"
																	class="table table-striped table-bordered"
																	style="width: 100%">
																	<thead>
																		<tr>
																			<th style="width: 15%">Data de início</th>
																			<th style="width: 15%">Data de término</th>
																			<th>Descrição</th>
																			<th style="width: 10%">Ação</th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr th:each="chamada : ${chamadas}">
																			<td
																				th:text="${#temporals.format(chamada.dataInicio, 'dd/MM/yyyy')}"></td>
																			<td
																				th:text="${#temporals.format(chamada.dataTermino, 'dd/MM/yyyy')}"></td>
																			<td th:text="${chamada.descricao}"></td>
																			<td><a
																				th:href="@{/chamadas/{id}/alterar(id=${chamada.id})}"
																				class="btn btn-primary btn-icon"
																				style="margin-right: 16px"><i class="icofont ion-edit" 
																				style="margin-left: 5px; padding: 5px" data-toggle="tooltip"
																				data-placement="top" data-original-title="Editar chamada"></i>
																				</a>

																				<a
																				th:href="@{/chamadas/{id}/excluir(id=${chamada.id})}"
																				class="btn btn-danger btn-outline-danger btn-icon"
																				style="margin-right: 16px" data-toggle="modal"
																				data-target="#delete-modal2"
																				th:data-whateverid="${chamada.id}"
																				th:data-whateverctrl="@{/chamadas/{id}/excluir(id=${chamada.id})}">
																					<i class="icofont ion-trash-a"
																					style="margin-left: 5px; padding: 5px" data-toggle="tooltip"
																					data-placement="top"
																					data-original-title="Excluir chamada"></i>
																			</a></td>
																		</tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div th:replace="fragmentos/componentes :: modal-excluir(tipo='chamada')"></div>
	</div>
	<th:block th:include="fragmentos/general.html :: scripts-imports"></th:block>
</body>
</html>